# 키친포스

사용자가 상품, 메뉴, 테이블을 관리하고 주문 기능을 수행할 수 있는 포스 시스템을 구현한다.

Menu, MenuGroup, Product : mock 객체 직접 구현
 

## 요구 사항
> 점주가 사용 할 키친포스를 구현한다.       
키친포스는 상품, 메뉴, 매장 테이블을 관리하며, 주문 기능을 가진다. 

- 메뉴 그룹
    - 메뉴 그룹 : 같은 옵션을 갖는 메뉴들의 집합을 말한다. e.g 식사류, 사이드
    - [x] `점주`는 `메뉴 그룹`을 등록 할 수 있다.
        - [x] `메뉴 그룹`은 메뉴 그룹명이 있어야 등록 할 수 있다.  
        
    - [x] `점주`는 모든 `메뉴 그룹`을 조회 할 수 있다. 
    
- 메뉴
    - [x] `점주`는 `메뉴그룹`, `상품` 등록 후 `메뉴`를 등록 할 수 있다.
        - [x] 메뉴 등록을 위해서는 가격, 메뉴 그룹, 상품들이 필요하다.
        - [x] 메뉴 금액은 0원이상 이어야 한다. 
        - [x] 메뉴의 가격은 `메뉴상품`의 전체 가격의 합보다 클 수 없다.
            - [x] `메뉴상품`의 전체 가격은 `각 상품의 가격 * 개수`의 합으로 구할 수 있다.
                
    - [x] `점주`는 모든 `메뉴`를 조회 할 수 있다. 
        - [x] `메뉴` 조회 시 해당 메뉴에 등록된 `메뉴상품`을 모두 볼 수 있다.

- 상품
    - [x] `점주`는 `상품`을 등록할 수 있다. 
        - [x] `상품` 금액은 0이상이어야 한다.
        
    - [x] `점주`는 등록된 모든 상품을 볼 수 있다.  

- 주문
    - [x] `점주`는 주문 정보를 가지고 `주문`을 등록 할 수 있다.
        - [x] 주문 정보 : 주문한 테이블 번호, 주문한 상품 목록(=`주문 항목`)
        - [x] `주문` 시 `주문 상태`는 `조리중`이다. (`주문상태`는 `조리중`, `식사중`, `식사완료`을 가진다)
        - [x] `주문` 시 주문 시간은 현재 시간이다. 
        
        - [x] `주문항목`이 없을 시 `주문` 등록을 할 수 없다
        - [x] 미등록된 `주문 테이블` 일 경우 `주문`을 등록을 할 수 없다
        - [x] 주문한 `테이블`이 빈 테이블인 경우 `주문` 등록을 할 수 없다
        
    - [x] `점주`는 `주문`내역을 모두 볼 수 있다.
        - [x] 한 `주문`의 `주문 항목`을 볼 수 있다.
        
    - [x] `점주`는 `주문`의 `주문상태`를 변경 할 수 있다.
        - [x] 등록된 `주문`이 아닐 시 `주문상태`를 변경 할 수 없다
        - [x] 완료된 `주문`은 변경 할 수 없다
    
- 테이블  
    -  테이블의 상태: 테이블이 `비움`, `채워짐`인 경우 
    - [x] `점주`는 등록정보를 가지고 `주문 테이블`을 등록 할 수 있다.
        - [x] 등록정보 : 테이블 그룹 번호, 손님 수, 테이블의 상태
        - [x] 테이블 `손님` 인원을 입력하지 않은 경우, __0명__으로 등록한다.
     
    - [x] `점주`는 등록된 모든 `테이블`의 상황을 볼 수 있다.
    
    - [x] `점주`는 등록된 `주문 테이블`의 상태를 변경 할 수 있다.  
        - [x] `주문 테이블`의 `주문 상태`가 `식사완료` 일 때만 `테이블 상태`를 변경 할 수 있다. 
        - [x] `점주`는 `주문 테이블`을 비울 수 있다.
        - [x] `점주`는 `주문 테이블`을 채울 수 있다.
        
    - [x] `점주`는 손님이 있는 테이블의 `손님` 인원 변경 할 수 있다.  
        - [x] 등록할 `손님`수는 0명이상 이어야 한다.
        - [x] 먼저 테이블이 있어야 한다.
        - [x] 이미 등록된 테이블 이어야 한다.
          
- 테이블 그룹
    - 테이블 그룹 : 여러 테이블을 사용 할 경우 테이블들을 그룹화 할 수있다. 
    - [x] 여러 `주문 테이블` 정보로 `테이블 그룹`을 등록 할 수 있다. 
        - [x] `테이블 그룹`의 `주문 테이블`은 2개 이상이어야 한다.
        - [x] 테이블이 없을 경우 테이블을 그룹화 할 수 없다
        - [x] `주문 테이블`은 이미 등록되어 있어야 한다.
        - [x] `주문 테이블`은 한 `테이블 그룹`에만 속할 수 있다.
        - [x] `주문 테이블`은 `채워진` 테이블이어야 한다.
        - [x] `테이블 그룹` 등록 시 등록 시간은 현재 시간이다. 
      
    - [x] `테이블 그룹`을 삭제한다.
        - [x] `테이블 그룹` 번호로 삭제할 수 있다.
        - [x] `테이블 그룹`에 속한 테이블이 없을 경우 테이블 그룹을 삭제 할 수 없다
        - [x] `테이블 그룹`에서 마지막으로 주문한 테이블이 `식사완료`이어야만 삭제 할 수 있다
        - [x] `테이블 그룹`의 `주문 테이블`을 모두 취소한다.
        
## 용어 사전

| 한글명 | 영문명 | 설명 |
| --- | --- | --- |
| 상품 | product | 상품의 이름과 판매 가격을 가진다. |
| 메뉴 | menu | 상품을 판매하고 싶을 경우, 등록된 상품으로 메뉴를 출시하여 판매 할 수 있다. (메뉴명, 포함된 상품, 가격, 메뉴그룹) |  
| 메뉴그룹 | menuGroup | 같은 옵션을 갖는 메뉴들의 집합을 말한다. e.g 식사류, 사이드 |
| 메뉴상품 | menuProduct | 메뉴에 포함된 각 상품의 개수를 알 수 있다. |
| 주문 | order | 테이블 번호를 식별자로 하여 주문 신청하는 주문표. (주문표 : 메뉴, 주문시간, 주문 상태, 주문한 메뉴 리스트를 가진다) |
| 주문한 메뉴 리스트 | orderLineItem | 주문한 메뉴와 각 메뉴의 주문 수량을 표기 |
| 주문상태 | orderStatus | 주문한 손님의 현재 상태 (식사 대기중, 식사중, 식사완료)|  
| 주문 테이블 | orderTable | 홀의 테이블을 말하며, 손님이 홀에서 식사하는 경우 손님이 앉은 테이블을 먼저 등록한다. 각 테이블은 고유의 테이블 번호를 가지고 있다.
| 테이블 그룹 | tableGroup | 여러개의 테이블을 사용 할 경우, 여러 테이블을 하나로 묶음 |

## 모델링
- 상품 
    - `product`은 번호, 이름, 가격을 가진다.
    - 상품 가격은 `0원`이상이다.
    
- 메뉴
    - `menu`는 번호, 이름, 가격, 메뉴에 속한 상품, 메뉴그룹 번호를 가진다.
    - `menu` 가격은 `0원`이상이어야 한다.
    - `menu` 등록을 위해서는 가격, 메뉴 그룹, 상품들이 필요하다.
    - `menu`의 금액은 `menuProduct`의 총액보다 커야한다.
      - `MenuProduct`의 총액 = 각 `product`의 `price * quantity`의 합
    
- 메뉴그룹
    - `menuGroup`은 번호, 이름을 가진다.
    
- 메뉴상품
    - `menuProduct`은 번호, 메뉴번호, 상품번호, 재고량을 가진다.
    
- 주문
    - `order`는 번호, 주문테이블 번호, 주문상태, 주문시간, 주문한 항목들을 가진다.
    - `order` 등록 할 수 있다.
        - `orderStatus`는 `COOKING`이고 `orderTime`은 현재시각이다.
        - `orderTable` 상태가 `false`인 경우 등록에 실패한다.
        - `orderTable`이 `orderGroupId`가 미등록된 번호일 경우 등록에 실패한다.
    - `order` 상태변경을 할 수 있다.
        - `orderStatus`가 `COMPLETION`면 상태변경에 실패한다.
        
- 주문한 메뉴 리스트
    - `orderLineItem`은 번호, 주문번호, 메뉴번호, 메뉴수량을 가진다.
 
- 주문상태
    - 조리중(`COOKING`), 식사중(`MEAL`), 식사완료(`COMPLETION`)를 가진다.
    - `orderStatus`가 `COMPLETION`이면 `order` 상태변경 할 수 없다.
    - `orderStatus`가 `COOKING`, `MEAL`이면 `orderTable`의 `empty` 상태를 변경 할 수 없다.
    - `orderStatus`가 `COOKING`, `MEAL`이면 `tableGroup`을 삭제할 수 없다. 
    
- 주문 테이블 
    - `orderTable`은 번호, `tableGroup`번호, 손님 수, 테이블 상태를 가진다.
    - 손님 수는 `0명`이상이어야 한다.
    - `empty`은 `true`, `false`이다.
    - 손님수를 입력하지 않은 경우, 기본값은 __0명__이다. 
    
- 테이블 그룹
    - `tableGroup`은 번호, 등록시간, `orderTable` 목록을 가진다.
    - `tableGroup`을 등록 할 수 있다.
        - `orderTable`은 2개 이상이어야 한다.
        - 모든 `orderTable`은 `empty`가 `false`이어야 한다.
        - `createDate`는 현재시간이다.
    - `tableGroup`을 삭제 할 수 있다. 
        - `tableGroup`에 속한 `orderTable`이 없을 경우 삭제 할 수 없다.    
        - 마지막으로 주문한 `orderTable`의 `orderStatus`가 `COMPLETION`이 아닌 경우, 삭제 할 수 없다.    
