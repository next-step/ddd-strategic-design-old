# 키친포스

## 요구 사항

- `주문 테이블 그룹` 정보
    - [ ] `주문 테이블 그룹`은 고유 번호, 생성된 시간, 주문테이블 목록으로 구성된다.
    - [ ] 클라이언트로부터 요청 받은 (생성된 날짜, 주문테이블 목록) 데이터를 기반으로 `주문 테이블 그룹` 정보를 생성할 수 있다.
    - [ ] `주문 테이블 그룹`의 고유 번호를 기반으로 `주문 테이블 그룹` 정보를 삭제할 수 있다.

- `주문 테이블` 정보
    - [ ] `주문 테이블`은 고유 번호, 테이블그룹 아이디, 손님 수, 공석 여부로 구성된다.
    - [ ] 클라이언트로부터 요청 받은 (`주문 테이블 그룹`의 아이디, 손님 수, 공석 여부) 데이터를 기반으로 `주문 테이블` 정보를 생성할 수 있다.
    - [ ] `주문 테이블`의 리스트를 볼 수 있다.
    - [ ] `주문 테이블`의 공석 여부 상태 테이터를 변경할 수 있다.
    - [ ] `주문 테이블`의 손님 수 데이터를 변경할 수 있다.

- `주문` 정보
    - [ ] `주문`은 고유 번호, 주문테이블 아이디, 주문 상태, 주문 시간, 주문 라인업 목록으로 구성된다.
    - [ ] 클라이언트로부터 요청 받은 (`주문 테이블` 아이디, 주문 상태, 주문 시간, 주문 라인업 목록) 데이터를 기반으로 `주문` 정보를 생성할 수 있다.
    - [ ] `주문`의 리스트를 볼 수 있다.
    - [ ] `주문`의 고유 번호를 이용해서 `주문`의 상태 데이터를 변경할 수 있다.

- `메뉴 그룹` 정보
    - [ ] `메뉴 그룹`은 이름으로 구성된다.
    - [ ] 이름 데이터를 기반으로 `메뉴 그룹` 정보를 생성할 수 있다.
    - [ ] `메뉴 그룹`의 리스트를 볼 수 있다.
   
- `메뉴` 정보
    - [ ] `메뉴`는 고유 번호, 이름, 가격, 메뉴 그룹, 메뉴 상품 목록으로 구성된다.
    - [ ] 클라이언트로부터 요청 받은 (이름, 가격, 메뉴 그룹, 메뉴 상품 목록) 데이터를 기반으로 `메뉴` 정보를 생성할 수 있다.
    - [ ] `메뉴`의 리스트를 볼 수 있다.

- `주문 라인업` 정보
    - [ ] `주문 라인업`은 고유 번호, 주문 아이디, 메뉴 아이디, 수량으로 구성된다.

- `상품` 정보
    - [ ] `상품`은 고유 번호, 이름, 가격으로 구성된다.
    - [ ] 클라이언트로부터 요청 받은 (이름, 가격) 데이터를 기반으로 `상품` 정보를 생성할 수 있다.
    - [ ] `상품`의 리스트를 볼 수 있다.

- `메뉴 상품` 정보
    - [ ] `메뉴 상품`은 고유 번호, 메뉴 아이디, 상품 아이디, 수량으로 구성된다.
    
- `주문 테이블 그룹` 정보 생성하기
    - [ ] `주문 테이블 그룹`을 생성하기 위해서 반드시 `주문 테이블`이 2개 이상이어야 한다.
    - [ ] 요청 받은 `주문 테이블`은 유효한 `주문 테이블`여야 한다.
    - [ ] `주문 테이블 그룹` 정보 생성하는 과정은 하나의 원자성을 갖는다.

- `주문 테이블 그룹` 정보 삭제하기
    - [ ] 삭제할 `주문 테이블 그룹` 아이디에 속한 `주문 테이블`이 없으면 삭제할 수 없다.
    - [ ] 삭제할 `주문 테이블 그룹` 아이디에 속한 `주문 테이블` 상태가 요리 중이거나, 식사 중이면 삭제할 수 없다.
    - [ ] 삭제할 `주문 테이블 그룹` 아이디에 속한 `주문 테이블` 실제로 DB 에서 삭제되지 않고 `주문 테이블`의 아이디만 null 값으로 세팅한다.
    - [ ] `주문 테이블 그룹` 정보를 삭제하는 과정은 하나의 원자성을 갖는다.

- `주문 테이블` 정보 생성하기
    - [ ] 클라이언트로부터 요청 받은 데이터(`주문 테이블 그룹`의 아이디, 손님 수, 공석 여부, `주문 테이블`)를 기준으로 `주문 테이블` 정보를 생성한다.
    - [ ] `주문 테이블` 정보 생성하는 과정은 하나의 원자성을 갖는다.

- `주문 테이블` 리스트를 불러오기
    - [ ] DB에 저장되어 있는 모든 `주문 테이블`의 리스트를 조회한다.
    
- `주문 테이블`의 공석 여부 상태 테이터를 변경하기
    - [ ] 공석 여부 상태를 변경하고자 하는 `주문 테이블`의 정보는 유효해야 한다.
    - [ ] `주문 테이블`이 속한 `주문 테이블 그룹` 정보는 유효해야 한다.
   
- `주문 테이블`의 손님 수 데이터를 변경하기
    - [ ] 변경하고자 하는 손님 수는 0보다 커야한다.
    - [ ] 손님 수를 변경하고자 하는 `주문 테이블` 정보는 유효해야 한다.

- `주문` 정보 생성하기
    - [ ] `주문` 정보를 생성하기 위해서는 `주문 라인업` 목록이 비어있으면 안 된다.
    - [ ] `주문` 정보를 생성하기 위해서는 요청받은 `주문 테이블`이 유효해야 한다.
    - [ ] 요청 받은 데이터 중 `주문 테이블 그룹` 아이디가 있다면 
        - [ ] `주문 테이블 그룹` 정보는 유요한 데이터야 한다.
        - [ ] `주문 테이블 그룹`에 속한 `주문 테이블` 목록을 `주문 테이블 그룹`의 아이디 순서로 정렬하며, 그 첫번째 `주문 테이블`은 유효해야 한다.
    - [ ] `주문` 정보 생성를 처음 생성하면 요리 중인 상태가 된다.
    
- `주문 목록` 정보 가져오기
    - [ ] DB 에서 모든 `주문 목록`을 가져오고 그에 맞는 `주문 라이업` 목록 정보를 세팅한다.
    
- `주문` 상태 데이터 변경하기
    - [ ] 변경할 `주문` 데이터는 유효한 데이터여야 한다.
    - [ ] 변경할 `주문` 데이터는 완료된 상태가 아니다.
    - [ ] 변경할 `주문` 데이터에 속한 `주문 라인업` 목록을 DB 에서 조회해서 세팅한다.

- `메뉴 그룹` 정보 생성하기
    - [ ] 클라이언트로부터 요청 받은 데이터(이름)를 기준으로 `메뉴 그룹` 정보를 생성한다.
    - [ ] `메뉴그룹` 정보 생성은 원자성을 갖는다.

- `메뉴 그룹` 리스트 가져오기
    - [ ] DB에 저장되어 있는 모든 `메뉴 그룹` 정보를 조회한다.
    
- `메뉴` 정보 생성하기
    - [ ] `메뉴`의 가격 데이터는 필수 값이며 0보다 커야한다.
    - [ ] `메뉴`는 유효한 `메뉴 그룹`에 속해야 한다.
    - [ ] 요청 받은 `메뉴` 정보의 `메뉴 상품` 목록은 유효한 `상품`에 속해야 한다.
    - [ ] 요청 받은 `메뉴` 정보의 `메뉴 상품` 목록의 총 합은 `메뉴 상품`의 가격 * `메뉴 상품`의 개수로 계산된다.
    - [ ] 요청 받은 `메뉴` 정보의 가격은 요청 받은 `메뉴` 정보의 `메뉴 상품` 목록의 총 합보다 크면 안 된다.
    
- `메뉴` 정보 리스트 가져오기
    - [ ] DB 에서 모든 `메뉴` 정보 리스트를 조회한 이후 각각에 맞는 메뉴상품 목록을 세팅한다.

## 용어 사전
| 한글명 | 영문명 | 설명 |
| --- | --- | --- |
| 주문테이블그룹 | OrderGroup | 주문테이블그룹은 고유 번호, 생성된 시간, 주문테이블 목록으로 구성된다. |
| 주문테이블 | OrderTable | 주문테이블은 고유 번호, 테이블그룹 아이디, 손님 수, 공석 여부로 구성된다. |
| 주문 | Order | 주문은 고유 번호, 주문테이블 아이디, 주문 상태, 주문 시간, 주문 라인업 목록으로 구성된다. |
| 메뉴그룹 | MenuGroup | 메뉴 그룹은 이름으로 구성된다. |
| 주문라인업 | OrderLineItem | 주문라인업은 고유 번호, 주문 아이디, 메뉴 아이디, 수량으로 구성된다. |
| 상품 | Product | 상품은 고유 번호, 이름, 가격으로 구성된다. | 
| 메뉴상품 | MenuProduct | 메뉴는 고유 번호, 이름, 가격, 메뉴 그룹, 메뉴 상품 목록으로 구성된다. |

## 모델링

- 
